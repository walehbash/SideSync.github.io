!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5b1684d3-c8e4-45ea-8353-cdeec7b803cf",e._sentryDebugIdIdentifier="sentry-dbid-5b1684d3-c8e4-45ea-8353-cdeec7b803cf")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9410],{47860:function(e,t,s){"use strict";var r=s(97458);t.Z=e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 14 14","aria-hidden":!0,...e,children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M14 10.856c0-1.53-.623-2.316-1.174-3.01-.49-.617-.877-1.105-.877-2.158v-.041a4.94 4.94 0 0 0-1.45-3.51A4.9 4.9 0 0 0 7.685.731V.684a.684.684 0 1 0-1.368 0v.048c-2.406.337-4.265 2.431-4.265 4.956 0 1.053-.387 1.541-.877 2.159C.624 8.54 0 9.325 0 10.855v.036a1.78 1.78 0 0 0 1.777 1.742h3.856C5.633 13.387 6.246 14 7 14s1.367-.613 1.367-1.367h3.856A1.78 1.78 0 0 0 14 10.856m-1.777.41H1.777a.41.41 0 0 1-.41-.41c0-1.054.387-1.542.877-2.16.55-.693 1.174-1.478 1.174-3.008 0-2.005 1.606-3.636 3.58-3.637H7c.956 0 1.855.373 2.532 1.052a3.58 3.58 0 0 1 1.05 2.585c0 1.53.624 2.315 1.174 3.008.49.618.877 1.106.877 2.16a.41.41 0 0 1-.41.41",clipRule:"evenodd"})})},77467:function(e,t,s){"use strict";var r=s(97458);t.Z=e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,r.jsx)("path",{d:"M469.1 287c-17.9-22.6-32.1-40.4-32.1-79v-1.4c0-48.5-18.8-94.1-53-128.3-28.2-28.3-64.1-46.1-103-51.4V25c0-13.8-11.2-25-25-25s-25 11.2-25 25v1.8C143 39.1 75 115.7 75 208c0 38.5-14.2 56.4-32.1 79C22.8 312.3 0 341 0 397v1.3C.7 433.5 29.6 462 65 462h141c0 27.6 22.4 50 50 50s50-22.4 50-50h141c35.4 0 64.3-28.5 65-63.7V397c0-56-22.8-84.7-42.9-110"})})},3506:function(e,t,s){"use strict";var r=s(97458);t.Z=e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,r.jsx)("path",{d:"M428 231.5H317v-65c0-13.807-11.193-25-25-25H122c-13.807 0-25 11.193-25 25v65H-14c-13.807 0-25 11.193-25 25s11.193 25 25 25h25v306c0 35.841 29.159 65 65 65h262c35.841 0 65-29.159 65-65v-306h25c13.807 0 25-11.193 25-25s-11.193-25-25-25m-281-40h120v40H147zm206 396c0 8.271-6.729 15-15 15H76c-8.271 0-15-6.729-15-15v-306h292z"}),(0,r.jsx)("path",{d:"M150 341.5c-13.807 0-25 11.193-25 25v151c0 13.807 11.193 25 25 25s25-11.193 25-25v-151c0-13.807-11.193-25-25-25m114 0c-13.807 0-25 11.193-25 25v151c0 13.807 11.193 25 25 25s25-11.193 25-25v-151c0-13.807-11.193-25-25-25"})]})},48649:function(e,t,s){"use strict";s.d(t,{Pr:function(){return n},bZ:function(){return i},i7:function(){return r}});let r=e=>e.filter(e=>!e.dismissed),n=e=>e.sort((e,t)=>e.created&&t.created?t.created.getTime()-e.created.getTime():0),i=e=>e.filter(e=>{var t,s;return(null===(t=e.extras)||void 0===t?void 0:t.showOnlyIn)==="front"||!(null===(s=e.extras)||void 0===s?void 0:s.showOnlyIn)})},39410:function(e,t,s){"use strict";s.r(t),s.d(t,{NotificationCenter:function(){return Z}});var r=s(97458),n=s(44881),i=s(68485),l=s(66827),a=s(19974),c=s(770),o=s(9249),d=s(96065),u=s(57291),x=s(7616),f=s(10893),h=s(52983),m=s(23113),p=s(72538),g=s(20409),b=s(47860);let v=()=>{let{t:e}=(0,f.$G)("common");return(0,r.jsxs)("div",{className:"m-4 flex h-[176px] flex-col items-center gap-5 text-center",children:[(0,r.jsx)("div",{className:"mt-12 grid size-[56px] min-h-[56px] min-w-[56px] items-center justify-center rounded-[6px] bg-[#E5F0FD] text-[#006EF0] dark:bg-[#1F408C] dark:text-[#E5F0FD]",children:(0,r.jsx)(c.J,{size:"2xl",as:b.Z})}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("p",{className:"$sprinkles-text-base font-semibold leading-[22px] text-surface-foreground-1",children:e("notifications.emptyTitle")}),(0,r.jsx)("p",{className:"text-sm leading-[22px] text-surface-foreground-2",children:e("notifications.emptyText")})]})]})};var j=s(46748),$=s(3506),w=s(98821),z=s.n(w),y=s(5239);let N=e=>e.split(/(<br>|<b>.*?<\/b>|<i>.*?<\/i>)/g).map((e,t)=>{if("<br>"===e)return(0,r.jsx)("br",{},t);if(e.startsWith("<b>")&&e.endsWith("</b>")){let s=e.slice(3,-4);return(0,r.jsx)("strong",{children:s},t)}if(!(e.startsWith("<i>")&&e.endsWith("</i>")))return e;{let s=e.slice(3,-4);return(0,r.jsx)("em",{children:s},t)}}),k=e=>{let t=(0,h.useRef)(null);return(0,h.useEffect)(()=>{let r=t.current,n=new IntersectionObserver(async r=>{let[i]=r;i.isIntersecting&&1===i.intersectionRatio&&!e.viewed&&((await Promise.all([s.e(3936),s.e(9392)]).then(s.bind(s,19392)).then(e=>e.logContentCardImpressions))([e]),t.current&&n.unobserve(t.current))},{threshold:1});return t.current&&!e.viewed&&n.observe(t.current),()=>{r&&n.unobserve(r)}},[t,e]),{ref:t}},C=e=>{let{item:t}=e,{t:s}=(0,f.$G)("common");if(!t.created)return null;let{time:n,ago:i}=(0,j.B)(t.created);return(0,r.jsx)("span",{children:s(i,{time:n})})},_=e=>{var t;let{item:n}=e,[l,a]=(0,h.useState)(!1),[o,d]=(0,h.useState)(!1),{t:u}=(0,f.$G)("common"),{setCards:x}=(0,i.JI)(),{ref:m}=k(n),p=()=>x(e=>e.filter(e=>e.id!==n.id)),g=(null===(t=n.extras)||void 0===t?void 0:t.video)&&!l,b="string"==typeof n.imageUrl&&!g&&!o;return(0,r.jsxs)("div",{className:"$p-[15px] $bg-surface-1 $rounded-[8px] $sprinkles-text-sm $text-surface-foreground-2",ref:m,children:[(0,r.jsxs)("p",{className:"$flex $items-center $justify-between text-surface-foreground-2 text-xs $mb-[5px]",children:[(0,r.jsx)(y.SV,{fallback:(0,r.jsx)("span",{}),children:(0,r.jsx)(C,{item:n})}),!n.viewed&&(0,r.jsx)("span",{className:"$inline-block $w-[10px] $h-[10px] $rounded-[9999px] $bg-blueFreepik"})]}),g&&(0,r.jsx)("video",{className:"$block $max-w-full $h-auto",controls:!1,controlsList:"nodownload",playsInline:!0,autoPlay:!1,loop:!1,onError:()=>a(!0),children:(0,r.jsx)("source",{src:n.extras.video,type:"video/mp4"})}),b&&(0,r.jsx)(z(),{src:n.imageUrl,alt:"",className:"$w-full $h-auto $rounded-[8px] $pb-[5px]",width:360,height:96,onError:()=>d(!0)}),(0,r.jsx)("p",{className:"$sprinkles-text-base $font-semibold",children:n.title}),(0,r.jsx)("p",{className:"$sprinkles-text-sm $mt-[5px] $mb-[5px]",children:N(n.description)}),(0,r.jsxs)("div",{className:"$flex $items-center $justify-between $font-semibold $pt-[5px]",children:[(0,r.jsx)("a",{href:n.url,className:"text-surface-foreground-accent-0 $font-semibold",children:n.linkText}),n.dismissible&&(0,r.jsxs)("button",{className:"$flex $items-center $gap-[5px] $sprinkles-text-sm $text-surface-foreground-2 hover:$text-black",onClick:()=>Promise.all([s.e(3936),s.e(9392)]).then(s.bind(s,19392)).then(e=>{let{logCardDismissal:t}=e;t(n)&&p()}),children:[(0,r.jsx)(c.J,{as:$.Z,size:"sm"}),u("remove")]})]})]})},I=e=>e.filter(e=>!e.dismissed),D=e=>e.sort((e,t)=>e.created&&t.created?t.created.getTime()-e.created.getTime():0),E=()=>{let{cards:e}=(0,i.JI)(),t=(0,h.useMemo)(()=>e?D(I(e)):null,[e]);return t&&0!==t.length?(0,r.jsx)("div",{className:(0,u.cx)("flex-1 pl-4 pr-2 pb-4 flex flex-col gap-5",g.V),children:t.map(e=>(0,r.jsx)("div",{onClick:()=>!e.clicked&&Promise.all([s.e(3936),s.e(9392)]).then(s.bind(s,19392)).then(t=>{let{logContentCardClick:s}=t;s(e)}),children:(0,r.jsx)(_,{item:e},e.id)},e.id))}):(0,r.jsx)(v,{})};var T=s(77467),A=s(15718);let M=(0,h.forwardRef)((e,t)=>{let{isOpen:s}=e,{t:n}=(0,f.$G)("common"),{cards:l}=(0,i.JI)(),a=(0,A.Uu)(),d=l?l.filter(e=>!e.viewed&&!e.dismissed).length:0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.T,{children:n("notifications.title")}),(0,r.jsxs)("span",{ref:t,className:"".concat("relative $transition-all font-semibold sprinkles-text-base transition-all duration-150 ease-out hover:bg-surface-2 p-[9px] rounded-lg flex items-center cursor-pointer no-underline visited:text-inherit text-surface-foreground-0"," ").concat(a?"$text-white hover:$opacity-[0.7]":""),children:[(0,r.jsx)(c.J,{as:s||d>0?T.Z:b.Z,className:"size-[14px]"}),d>0&&(0,r.jsx)("span",{className:"$absolute $top-0 $right-0 $bg-blueFreepik $rounded-full $text-center $w-[15px] $h-[15px] $text-white $text-[10px] $leading-[18px] $font-bold $flex $items-center $justify-center",children:d})]})]})});M.displayName="NotificationTrigger";var O=s(60473),F=s.n(O);let Z=()=>{let e=(0,n.k)(),{t}=(0,f.$G)("common"),[s,g]=(0,h.useState)(!1),b=(0,m.a)("lgMax"),v=(0,m.a)("xlMax"),j="anchored"===(0,x.Dv)(p.tL),$=(0,h.useMemo)(()=>j?v?20:75:20,[j,v]);if(!e)return null;let w=(0,r.jsx)("button",{onClick:()=>g(!s),children:(0,r.jsx)(M,{isOpen:s})}),z=(0,u.cx)("p-[9px] text-ghost-foreground-0 flex items-center hover:bg-surface-2 transition-all duration-150 ease-out rounded-lg"),y=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,r.jsx)("p",{className:"font-semibold text-surface-foreground-1",children:t("notifications.title")}),(()=>{let e=b?l.x8:a.x8;return(0,r.jsx)(e,{asChild:!0,children:(0,r.jsxs)("button",{className:z,children:[(0,r.jsx)(c.J,{className:"size-[14px]",as:d.Z}),(0,r.jsx)(o.T,{children:t("close")})]})})})()]}),(0,r.jsx)(E,{})]}),N=(0,u.cx)("border-surface-border-0 bg-surface-1 text-surface-foreground-0 flex flex-col gap-0 overflow-y-auto overflow-x-hidden flex-1");return b?(0,r.jsx)(i.Dg,{children:(0,r.jsxs)(l.fC,{open:s,onOpenChange:()=>g(!s),children:[(0,r.jsx)(l.xz,{asChild:!0,children:w}),(0,r.jsxs)(l.h_,{children:[(0,r.jsx)(l.aV,{className:"fixed inset-0 z-50 bg-black/50"}),(0,r.jsx)(l.VY,{className:(0,u.cx)("fixed inset-0 z-50",N),children:y})]})]})}):(0,r.jsx)(i.Dg,{children:(0,r.jsxs)(a.fC,{open:s,onOpenChange:()=>g(!s),children:[(0,r.jsx)(a.xz,{asChild:!0,"aria-label":t("notifications.title"),children:w}),(0,r.jsx)(a.h_,{children:(0,r.jsx)(a.VY,{"data-sidebar-safezone":!0,side:"right",align:"end",sideOffset:$,alignOffset:-16,className:(0,u.cx)(N,"h-screen lg:origin-top-left w-[384px] max-h-screen z-10",s?F().fadeIn:F().fadeOut),children:y})})]})})}},44881:function(e,t,s){"use strict";s.d(t,{k:function(){return i}});var r=s(52983),n=s(94493);let i=()=>void 0!==(0,r.useContext)(n.U)},68485:function(e,t,s){"use strict";s.d(t,{Dg:function(){return d},JI:function(){return u}});var r=s(97458),n=s(52983),i=s(48649),l=s(94493);let a=()=>{let e=(0,n.useContext)(l.U);if(void 0===e)throw Error("useBraze must be used within a BrazeProvider");return e},c=(0,n.createContext)({}),o=e=>{let{children:t,setCards:r}=e;return(0,n.useEffect)(()=>{Promise.all([s.e(3936),s.e(9392)]).then(s.bind(s,19392)).then(e=>{let{ClassicCard:t,CaptionedImage:s,openSession:n,requestContentCardsRefresh:l,subscribeToContentCardsUpdates:a}=e,c=e=>e instanceof t||e instanceof s;a(e=>{r((0,i.bZ)(e.cards.filter(c)))}),n(),l()})},[r]),t},d=e=>{let{children:t}=e,{isInitialized:s}=a(),[i,l]=(0,n.useState)([]),d=(0,n.useMemo)(()=>({cards:i,setCards:l}),[i,l]),u=(0,r.jsx)(c.Provider,{value:d,children:t});return s?(0,r.jsx)(o,{setCards:l,children:u}):u},u=()=>(0,n.useContext)(c);s(87420);var x=s(1850);let f=x.z.object({total:x.z.number(),unread:x.z.number()}),h=x.z.object({id:x.z.number(),sline:x.z.string(),phash:x.z.string(),created:x.z.number(),read:x.z.number(),content:x.z.string(),delivered_at:x.z.number(),blbl:x.z.string(),burl:x.z.string(),end:x.z.number(),card_url:x.z.string(),bg_color:x.z.string(),fg_color:x.z.string(),meta_data:x.z.object({appkey:x.z.string(),expiration:x.z.number()})}),m=x.z.object({meta:f,items:x.z.array(h)});x.z.object({data:m}).transform(e=>{let{data:t}=e;return t})},46748:function(e,t,s){"use strict";s.d(t,{B:function(){return n}});let r=[[86400,"timeAgo.day","timeAgo.days"],[3600,"timeAgo.hour","timeAgo.hours"],[60,"timeAgo.minute","timeAgo.minutes"]],n=e=>{let t=new Date;if(e>t)throw Error("Date is in the future");let s=e.getTime(),n=Math.floor((t.getTime()-s)/1e3),i=r.find(e=>n/e[0]>=1)||[1,"timeAgo.second","timeAgo.seconds"],l=Math.floor(n/i[0]);return{time:l,ago:l>1?i[2]:i[1]}}},60473:function(e){e.exports={fadeIn:"styles_fadeIn__vJ20A",fadeOut:"styles_fadeOut__P1mfk"}}}]);